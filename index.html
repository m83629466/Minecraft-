<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Servidor Emerald MagmaNode</title>
<style>
body { font-family: Arial; text-align: center; background: #2c3e50; color: white; padding: 20px;}
button { padding: 15px 25px; font-size: 18px; border-radius: 10px; cursor: pointer; margin: 10px; }
button:hover { background: #2ecc71; }
#status { font-size: 22px; margin: 20px; }
</style>
</head>
<body>
<h1>ðŸŽ® Servidor Emerald MagmaNode</h1>

<div id="status">Carregando status...</div>

<button id="startServer">ðŸš€ Ligar Servidor (MagmaNode)</button>
<button id="openMinecraft">ðŸŽ® Abrir no Minecraft</button>
<button id="openCraftsman">ðŸ§± Abrir na Play Store (Craftsman)</button>

<script>
const IP = "emerald.magmanode.com";
const PORT = 27760;
const statusDiv = document.getElementById("status");

// FunÃ§Ã£o para verificar status usando API MCSrvStat
async function checkStatus() {
  try {
    const res = await fetch(`https://api.mcsrvstat.us/3/${IP}:${PORT}`);
    const data = await res.json();

    if(data.online) {
      statusDiv.textContent = `Servidor Online âœ… (${data.players.online} jogadores)`;
      statusDiv.style.color = "#2ecc71";
    } else {
      statusDiv.textContent = "Servidor Offline âŒ";
      statusDiv.style.color = "#e74c3c";
    }
  } catch(err) {
    statusDiv.textContent = "Erro ao verificar status âŒ";
    statusDiv.style.color = "#e74c3c";
  }
}

// Atualiza a cada 10 segundos
setInterval(checkStatus, 10000);
checkStatus();

// BotÃµes
document.getElementById("startServer").addEventListener("click", () => {
  window.open(`https://magmanode.com/start-server?subdomain=emerald`, "_blank");
});

document.getElementById("openMinecraft").addEventListener("click", () => {
  window.location.href = `minecraft://?addExternalServer=Emerald|${IP}:${PORT}`;
});

document.getElementById("openCraftsman").addEventListener("click", () => {
  window.location.href = "https://play.google.com/store/apps/details?id=com.craftsman.go";
});
</script>
</body>
</html>
